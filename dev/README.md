# FocusPro

Система мониторинга и диагностики для терминалов и банкоматов.

## Статус

Рабочий макет.

## Основное

- Работает на "Raspberry Pi 3В+" с ОС "Raspbian".
- Интерфейс управления устройствами GPIO основан на библиотеке gpiozero.
- Работу с датчиками на шине 1-Wire обеспечивают дистрибутивы owfs и python-ow.
- Веб-интерфейс основан на фреймворке flask.

## Структура проекта

```
/conf -- конфигурация nginx
+--focus.conf -- настройка маршрутизации приложения на
+--nginx.conf -- конфигурация основных параметров сервера
/focus -- основной пакет приложения
+--/back -- бэкэнд
|  +--connect.py -- MQTT-соединение для обмена данными с посредником
|  +--hardware.py -- конфигурирование железа
|  +--logger.py -- журналирование событий
|  +--report.py -- создание и отправка отчёта о событиях
|  +--utils.py -- вспомогательные инструменты разработки
+--/front -- фронтэнд
   +--/static -- статические файлы
   |  +--/css -- стили для страниц
   +--/templates -- HTML-шаблоны
      +--base.html -- базовый слой разметки для каждой страницы
      +--control.html -- страница управления устройствами
      +--index.html -- главная страница
      +--log.html -- страница отображения лога
   +--__init__.py -- точка входа в приложение
   +--models.py -- модели и функции для работы с БД
   +--settings.py -- настройки приложения
   +--views.py -- представления моделей по определённым маршрутам
   +--config.yaml -- конфигурация оборудования
   +--focus.log -- журнал событий
/systemd -- настройка служб автозапуска приложения
+--focus.service -- автозапуск gunicorn, установка сопутствующих параметров и привязка к Unix-сокету
+--focus.socket -- Unix-сокет для связывания gunicorn с прокси-сервером
.gitignore -- список игнорируемых файлов для системы контроля версий
README.md -- описание проекта
requirements.txt -- необходимые python-пакеты для исправного функционирования приложения
setup.py -- файл установки пакета focus для разрешения конфликтов поиска имён
```
